jQuery(function($){CompaniesSearch.init({inputSelector:'.comparison-company-search',selectFunction:function(event,ui){jQuery(event.target).attr('data-slug',ui.item.slug);jQuery(event.target).attr('data-id',ui.item.post_id);jQuery('.comparison-company-search').removeClass('invalid-value');},autoSelect:true,getRequestParams:function(){var params={exclude:[]};jQuery('.comparison-company-search').each(function(i,v){var id=jQuery(v).attr('data-id');if(id!==undefined&&id.length){params['exclude'].push(id);}});return params;}});$(document).on('input','.comparison-company-search',function(){$(this).attr('data-slug','');$(this).attr('data-id','');});$(document).on('click','.compare-btn',function(){var $inputs=$('#comparison-popup').length?$('#cboxLoadedContent').find(".comparison-company-search"):$(".comparison-company-search"),invalid=false,comparisonList=[],emptySlugs=[];jQuery('.comparison-company-search').removeClass('invalid-value');$.each($inputs,function(i,obj){var slug=$(obj).attr('data-slug');if(comparisonList.indexOf(slug)!==-1){invalid=i;return false;}
if(slug!==''&&typeof slug!=='undefined'){comparisonList.push(slug);}else{emptySlugs.push(i);}});if(emptySlugs.length>1){$($inputs[emptySlugs[0]]).addClass('invalid-value');return false;}
if(invalid!==false){$($inputs[invalid]).addClass('invalid-value');return false;}
window.location.assign(window.location.origin+'/tools/web-hosting-comparison/'+comparisonList.join('-vs-')+'/');return false;});$(document).on('click','.x-vs-y .review-summary .read-more',function(e){var $t=$(this);$t.siblings('.review-content').addClass('full-size');$t.hide();});var $cFloatingHeader=$('.comparison-screen .header.floating'),$cHeader=$('.comparison-screen .header');if($cHeader.length>0){showFloatingHeader();$(window).scroll(function(){showFloatingHeader();});$(window).resize(function(){showFloatingHeader();});function showFloatingHeader(){var headerTop=$cHeader.offset().top,positionTop=$(window).scrollTop(),cFloatingHeaderBottom=positionTop+$cHeader.height(),$lastCriteriaItem=$('.comparison-screen .criteria-item').last(),lastItemBottom=$lastCriteriaItem.offset().top+$lastCriteriaItem.height();$cFloatingHeader.css('width',$cHeader.css('width'));if(positionTop>=headerTop&&cFloatingHeaderBottom<lastItemBottom){$cFloatingHeader.addClass('is-visible');return false;}
$cFloatingHeader.removeClass('is-visible');}}
$(document).on('click','.x-vs-y .remove-add-company',function(e){Template.popup('#comparison-popup');CompaniesSearch.init({inputSelector:'.comparison-company-search',selectFunction:function(event,ui){jQuery(event.target).attr('data-slug',ui.item.slug);jQuery(event.target).attr('data-id',ui.item.post_id);jQuery('.comparison-company-search').removeClass('invalid-value');},autoSelect:true,getRequestParams:function(){var params={exclude:[]};jQuery('#cboxLoadedContent').find('.comparison-company-search').each(function(i,v){var id=jQuery(v).attr('data-id');if(id!==undefined&&id.length){params['exclude'].push(id);}});return params;}});});$(document).on('click','.show-more-plans-btn',function(e){e.preventDefault();$(this).closest('div.hosting-plans').find('tr.hidden').removeClass('hidden');$(this).closest('tr.show-more-plans-holder').addClass('hidden');});$(document).on('click','#comparison_show_coupons',function(e){e.preventDefault();$('.comparison-coupons-holder').addClass('expanded');$(this).remove();});if($('#web_hosting_comparison_banner').length>0){$.ajax({url:ajaxUrl_ht,type:'GET',data:{action:'get_wide_banner'},success:function(response){if(!response)return;var image_url=$(response).find('img').attr('src');var image=new Image();$(image).one('load error',function(){$('#web_hosting_comparison_banner').html(response);});image.src=image_url;}});}});