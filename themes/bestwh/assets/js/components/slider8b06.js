var HASlider;jQuery(function($){HASlider={sliders:{},getValueByStep:function(step,ID){var self=this,slider=self.sliders[ID];if(typeof slider.step_to_value!=='undefined'&&slider.step_to_value.length){if(typeof slider.step_to_value[step]!=='undefined'){if(typeof slider.step_to_value[step]=='object'){var value=typeof slider.step_to_value[step]['value']!=='undefined'?slider.step_to_value[step]['value']:0;}else{var value=slider.step_to_value[step];}}else{var value=0;}}else{var value=step;}
return value;},getTitleByStep:function(step,ID){var self=this,slider=self.sliders[ID],value=self.getValueByStep(step,ID);if(slider.step_to_value.length&&typeof slider.step_to_value[step]!=='undefined'&&typeof slider.step_to_value[step]=='object'&&typeof slider.step_to_value[step]['title']!=='undefined')
{var title=slider.step_to_value[step]['title'];}else{var title=!slider.range&&slider.on_min_word.length&&value==slider.min?slider.on_min_word:slider["prefix"]+value+slider["suffix"];}
return title;},getStepByValue:function(value,ID){var self=this,slider=self.sliders[ID];if(slider.step_to_value.length){for(var i=0;i<slider.step_to_value.length;i++){if(slider.step_to_value[i]>=value){return i;}}}else{return value;}
return 0;},initSliders:function(){var self=this;$.each(self.sliders,function(id,params){var sliderEl=$('#'+id),sliderInitParams={range:params.range?true:"min",step:params.step,min:params.min,max:params.max,slide:function(event,ui){var sliderEl=$(event.target),sliderID=sliderEl.attr('id'),holderEl=sliderEl.closest('.ha-ui-slider-holder'),inputEl=holderEl.find('[name="'+sliderID+'"]'),slider=self["sliders"][sliderID];if(slider["range"]){var fromStr=self.getTitleByStep(ui['values'][0],sliderID),toStr=self.getTitleByStep(ui['values'][1],sliderID),inputValue=self.getValueByStep(ui['values'][0],sliderID)+'-'+self.getValueByStep(ui['values'][1],sliderID);holderEl.find('.slider-value-from').html(fromStr);holderEl.find('.slider-value-to').html(toStr);}else{var valueStr=self.getTitleByStep(ui['value'],sliderID),inputValue=self.getValueByStep(ui['value'],sliderID);holderEl.find('.slider-value-from').html(valueStr);}
if(inputEl.length){inputEl.val(inputValue);}},stop:function(event,ui){var sliderID=$(event.target).attr('id');if(self["sliders"][sliderID]["range"]){var step=ui.values,value=[self.getValueByStep(ui.values[0],sliderID),self.getValueByStep(ui.values[1],sliderID)];}else{var step=ui.value,value=self.getValueByStep(ui.value,sliderID);}
$(document).trigger("haSliderStopped",[sliderID,step,value]);}};if(params.range){sliderInitParams["values"]=[self.getStepByValue(params.values[0],id),self.getStepByValue(params.values[1],id)];}else{sliderInitParams["value"]=self.getStepByValue(params.value,id);}
sliderEl.slider(sliderInitParams);});},init:function(){var self=this,slidersHolders=$('.ha-ui-slider-holder');if(slidersHolders.length){slidersHolders.each(function(){var slider=$(this).find('.ha-ui-slider');if(slider.length){self.sliders[slider.attr('id')]={"range":slider.data('range')==1,"step_to_value":slider.data('step-to-value'),"step":slider.data('step-to-value').length?1:slider.data('step'),"min":slider.data('min'),"max":slider.data('step-to-value').length?(slider.data('step-to-value').length-1):slider.data('max'),"value":slider.data('from'),"values":[slider.data('from'),slider.data('to')],"prefix":slider.data('prefix'),"suffix":slider.data('suffix'),"on_min_word":slider.data('on-min-word'),};}});self.initSliders();}}};HASlider.init();});