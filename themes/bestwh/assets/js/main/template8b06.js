Template={get:function(source,vars){var html=jQuery(source).html();if(typeof(vars)!=='undefined'){jQuery.each(vars,function(search,replacement){html=html.replace(new RegExp("{{"+search+"}}",'g'),replacement);});}
return html;},put:function(source,dest,vars){jQuery(dest).html(Template.get(source,vars));},popup:function(source,vars,options){jQuery.colorbox.remove();options=jQuery.extend({},options);options.html=Template.get(source,vars);options.maxWidth='98%';options.trapFocus=false;jQuery.colorbox(options);}};jQuery(function($){function closePreShowColorbox(colorbox){var colorboxOverlay=colorbox.prev("#cboxOverlay");colorbox.remove();colorboxOverlay.remove();$(document).trigger('pre-show-popup-close');}
var preShowColorbox=$("#colorbox.pre-show");preShowColorbox.on('click',function(e){e=e||window.event;var target=e.target||e.srcElement;if(target.id==="cboxWrapper"){closePreShowColorbox($(this));}});preShowColorbox.find("#cboxClose").on('click',function(e){var colorbox=$(this).closest("#colorbox");closePreShowColorbox(colorbox);});});